<div data-test-search>
  <header>
    <h1>
      Breethe
    </h1>
  </header>

  <SearchForm @term={{searchTerm}} @isSSR={{@isSSR}} @onSearch={{action goToRoute}} />

  <div>
    <h2>
      {{#if searchTerm}}
        Locations for "<strong>{{searchTerm}}</strong>"
      {{else}}
        {{#if showResults}}
          Recent Locations
        {{/if}}
      {{/if}}
    </h2>

    {{#if showResults}}
      <ul>
        {{#each locations key="id" as |location|}}
          <li data-test-search-result={{location.attributes.city}}>
            <a href="/location/{{location.id}}" data-navigo>
              {{location.attributes.name}}, {{location.attributes.city}}
            </a>
          </li>
        {{/each}}
      </ul>
    {{else}}
      {{#if searchTerm}}
        <em>
          We could not find locations with your search term.
        </em>
      {{/if}}
    {{/if}}
  </div>
</div>